/* Password strength meter (via zxcvbn.js)
   ========================================================================== */

/**
 * Strength meter bar area and text area.
 *
 * Example HTML:
 *
 * <div class="txp-form-field-value">
 *     <input class="txp-maskable" type="password">
 *     <div class="strength-meter">
 *         <div class="bar password-strength-1" style="width:28%;"></div>
 *         <div class="indicator">Strength: poor</div>
 *     </div>
 *     <div class="edit-admin-show-password">
 *         <input class="checkbox" type="checkbox">
 *         <label>Show password</label>
 *     </div>
 * </div>
 */

.strength-meter {
    position: relative;
    width: 100%;
    max-width: 28em; // TODO: check this?
    height: 1.5em; // 18px / 12px
    background-color: darken($color-border, 16%);
    box-sizing: border-box;

    &:empty {
        background-color: transparent;
    }

    .bar {
        position: absolute;
        left: 0;
        height: 1.5em; // 18px / 12px
        z-index: 2;
    }

    .indicator {
        position: absolute;
        padding: 0.16666666666667em 0.41666666666667em; // 2px / 12px + 4px / 12px
        color: $color-text-inverse;
        line-height: 1;
        z-index: 3;
    }
}

/**
 * Strength level colours.
 */

.password-strength-0 {
    background-color: $color-error-text;
}

.password-strength-1 {
    background-color: lighten(saturate(adjust-hue($color-error-text, 22.5282), 15.8767), 1.9608);
}

.password-strength-2 {
    background-color: $color-warning-text;
}

.password-strength-3 {
    background-color: darken(desaturate(adjust-hue($color-warning-text, 28.6596), 22.7848), 9.0196);
}

.password-strength-4 {
    background-color: $color-success-text;
}
